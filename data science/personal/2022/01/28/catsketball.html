<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Dashboarding to evaluate fantasy basketball matchups | fastpayges</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Dashboarding to evaluate fantasy basketball matchups" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A fantasy basketball dashboard" />
<meta property="og:description" content="A fantasy basketball dashboard" />
<link rel="canonical" href="https://ahy3nz.github.io/fastpayges/data%20science/personal/2022/01/28/catsketball.html" />
<meta property="og:url" content="https://ahy3nz.github.io/fastpayges/data%20science/personal/2022/01/28/catsketball.html" />
<meta property="og:site_name" content="fastpayges" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-28T00:00:00-06:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://ahy3nz.github.io/fastpayges/data%20science/personal/2022/01/28/catsketball.html"},"url":"https://ahy3nz.github.io/fastpayges/data%20science/personal/2022/01/28/catsketball.html","@type":"BlogPosting","headline":"Dashboarding to evaluate fantasy basketball matchups","dateModified":"2022-01-28T00:00:00-06:00","datePublished":"2022-01-28T00:00:00-06:00","description":"A fantasy basketball dashboard","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/fastpayges/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://ahy3nz.github.io/fastpayges/feed.xml" title="fastpayges" /><link rel="shortcut icon" type="image/x-icon" href="/fastpayges/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/fastpayges/">fastpayges</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/fastpayges/about/">About Me</a><a class="page-link" href="/fastpayges/credits/">Credits</a><a class="page-link" href="/fastpayges/search/">Search</a><a class="page-link" href="/fastpayges/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Dashboarding to evaluate fantasy basketball matchups</h1><p class="page-description">A fantasy basketball dashboard</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-01-28T00:00:00-06:00" itemprop="datePublished">
        Jan 28, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      5 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/fastpayges/categories/#data science">data science</a>
        &nbsp;
      
        <a class="category-tags-link" href="/fastpayges/categories/#personal">personal</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="the-gist">The gist</h1>

<p>A streamlit dashboard that compares your fantasy basketball category league matchups, helping you figure out which categories you’re winning and which categories you might need help with</p>

<ul>
  <li>
    <p><a href="https://github.com/ahy3nz/catsketball">Github</a></p>
  </li>
  <li>
    <p><a href="https://share.streamlit.io/ahy3nz/catsketball/main/catsketball/app.py">Streamlit link</a></p>
  </li>
</ul>

<h1 id="fantasy-basketball-category-leagues">Fantasy basketball category leagues</h1>

<p>My fantasy basketball league switched from a points league to a <a href="https://sports.yahoo.com/fantasy-basketball-draft-cheat-sheet-for-category-leagues-211118357.html#:~:text=The%20eight%20default%20categories%20are,cat%20and%209%2Dcat%20leagues">categories league</a> this season.
The entire strategy has changed because you can’t solely rely on people who score a lot of points; you’re concerned about all the other box stats (FG%, FT%, rebounds, assists, steals, blocks, points, 3-pointers made, turnovers).
So here are a couple of thoughts:</p>

<ul>
  <li>
    <p>For most people, no one has a strong sense of who performs well in which categories, besides points</p>
  </li>
  <li>
    <p>If you compete against a new player each week, you don’t know how your <em>opponent</em> will perform in each category, and you especially don’t know which categories are easy victories, possibly winnable, or downright impossible to win</p>
  </li>
  <li>
    <p>If you have a couple of streaming spots to pick up a player from the waiver wire, it would be nice to be informed of who is the correct waiver wire pickup. Not only will player news/injuries shake up waiver wire, but you might also want to consider if you should prioritze rebounds, steals, blocks, FG%, or 3PM, as a waiver wire pickup might be crucial to swinging a category your way</p>
  </li>
</ul>

<h1 id="the-problem">The problem</h1>

<p>In the perfect algorithmic approach, we’d have some automated decisionmaking framework to:</p>

<ol>
  <li>Understand our opponent’s performance for the upcoming week
    <ul>
      <li>Who is injured?</li>
      <li>How many games is each player playing?</li>
      <li>Do the NBA matchups affect performance?</li>
      <li>What are our opponents’ strengths and weaknesses?</li>
    </ul>
  </li>
  <li>Understand our performance for the upcoming week.
    <ul>
      <li>Same as above</li>
    </ul>
  </li>
  <li>What categories are we definitely winning?</li>
  <li>What categories are we definitely losing?</li>
  <li>What categories will be competitive?</li>
  <li>Who is the pickup to swing the category in our favor?</li>
</ol>

<p>Unfortunately, this is a hard problem. 
Okay, it might not be <em>impossible</em>, but for a hobbyist this can be a little cumbersome as it requires factoring in a lot of different variables that might not be easily accessible.</p>

<p>To reduce the problem, we can focus on the parts that would be easy to resolve with a program:</p>

<ul>
  <li>
    <p>Things that don’t require lots of logic</p>
  </li>
  <li>
    <p>Things that are basically number farming</p>
  </li>
</ul>

<h1 id="the-approximate-solution">The approximate solution</h1>

<p>Basically, what we’re looking for is <em>information</em> that could help us make a decision.</p>

<p>Over the course of data work, this is somewhat common: we have a lot of complex business logic that relies on a lot of information. 
The decisionmaking is hard to automate, but the data pulling is a very achievable task.
This work boils down to reporting, dashboarding, analytics, etc.</p>

<p>So this approach is a dashboard that leverages Streamlit and <a href="https://github.com/cwendt94/espn-api">ESPN API</a> to predict your fantasy team’s statline for a given time period (how many rebounds will I score from 2022-01-01 to 2022-01-08? what will my FG% look like?).
Also, you can generally assess your team’s composition (and other teams’) to figure out which trades you might want to make.</p>

<p>If you need help with blocks, you might want to swap your waiver wire 3 pt specialist for a rim-defending center.
If there’s a team weak in steals, and your team is overwhelmingly strong in steals, you could try to trade a steals person to rebalance your steals in favor of another category in which you are weak.</p>

<h1 id="technical-commentary">Technical commentary</h1>

<p>ESPN API was fairly straightforward to use.</p>

<ul>
  <li>
    <p>Pulling your fantasy basketball league’s details will definitely require credentials, so there’s this added requirement of passing certain ESPN fantasy cookies. I hadn’t figured out a way to automate this, but that’s fine.</p>
  </li>
  <li>
    <p>It’s reassuring that this doesn’t require passing literal usernames and passwords, but instead, some relatively harmless cookies.</p>
  </li>
  <li>
    <p>The API includes a team’s schedule and different estimates for a player’s stats, making it possible to do some primitive projections of box stats. Predicting stats is a rabbit hole that knows no bounds, so I did some basic averaging of last season’s stats, this season’s stat projections, and this season’s current performance.</p>
  </li>
  <li>
    <p>There’s also injury status, which means you can be very honest about your team’s performance in the face of unfortunate player news.</p>
  </li>
  <li>
    <p>There’s some noncohesion between team identifying information (is it a 3-letter abbreviation or an integer code?)</p>
  </li>
  <li>
    <p>Unlike <a href="https://github.com/ahy3nz/yellowtail">redfin requests</a>, I didn’t find my IP address blacklisted</p>
  </li>
</ul>

<p>The choice of dashboarding was Streamlit</p>

<ul>
  <li>
    <p>Easy to deploy to some perpetually-available server. Just provide a github repo</p>
  </li>
  <li>
    <p>Don’t have to worry about the specifics of the server, just the python code and associated dependencies</p>
  </li>
  <li>
    <p>Publicly accessible URLs (so you can do fantasy research from home or at work…)</p>
  </li>
  <li>
    <p>Free</p>
  </li>
  <li>
    <p>Generally very easy to quickly prototype and see the resultant dashboard</p>
  </li>
  <li>
    <p>Cooperates with pandas dataframe styling well</p>
  </li>
</ul>

<p>Unfortunately, maintaining state was kind of weird.
What does state refer to? 
Generally, state refers to a sort of context and context-dependent variables that dictate what actions can be performed or how actions should be conducted.
In this case, state refers to:</p>

<ul>
  <li>What is the fantasy basketball league we’re looking at (the cookies you passed)</li>
</ul>

<p>Additionally, streamlit generally re-runs the dashboard python script everytime an input is changed. 
However, sometimes you don’t want to re-run the script upon every input change, only when a set of inputs change simultaneously:</p>

<ul>
  <li>
    <p>What time period are you examining?</p>
  </li>
  <li>
    <p>Which teams are you examining?</p>
  </li>
  <li>
    <p>Do you want to include the questionable/day-to-day players in the projections?</p>
  </li>
</ul>

<p>Streamlit has addressed some considerations of <a href="https://docs.streamlit.io/library/api-reference/session-state">state</a> so you can preserve your fantasy cookies between dashboard refreshes.
Streamlit has also included <a href="https://blog.streamlit.io/introducing-submit-button-and-forms/">forms</a> that delay re-computation until a button is pressed.
In practice, this manifested in the code as a lot of if statements and nested code.</p>

<p>As far as evaluating any technology goes, the gist is: yeah it works. Sure, it has some flaws/friction points, but we can make it work. And we’re not looking for perfection, we just want something we can quickly build upon and iterate.</p>

<p>Has it helped? 
I’m in 2nd place in my fantasy basketball league, and I think some of these insights helped me make pickups to win a couple of extra categories.
At the very least, I’m no longer flying blind into each week of fantasy matchups.</p>

  </div><a class="u-url" href="/fastpayges/data%20science/personal/2022/01/28/catsketball.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/fastpayges/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/fastpayges/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/fastpayges/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Fastpages-based website</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/ahy3nz" target="_blank" title="ahy3nz"><svg class="svg-icon grey"><use xlink:href="/fastpayges/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/ayaang41" target="_blank" title="ayaang41"><svg class="svg-icon grey"><use xlink:href="/fastpayges/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
